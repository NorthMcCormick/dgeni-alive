

<h1>
  <p>Custom Annotations</p>

</h1>

<p>Using custom annotations</p>
<p>If you&#39;re finding yourself having to translate the same attribute all the time, you can tell <code>gettext</code> to pick it up as a translation.
fter that its up to you to define how its being translated. For example, if you&#39;re translating the <code>placeholder</code> attribute on every input, chances are you&#39;re doing something like:</p>
<pre><code class="lang-xml">&lt;input placeholder=&quot;{{ &#39;Input something here&#39; | translate }}&quot;&gt;
</code></pre>
<p>If you want to skip having to add the data-binding and <a href="api/gettext/filter/translate">translate filter</a> to every input, you can specify <code>placeholder</code> as an attribute in your Grunt config:</p>
<pre><code class="lang-javascript">grunt.initConfig({
  nggettext_extract: {
    pot: {
      options: {
        attributes: [&#39;placeholder&#39;]
      },
      files: {
        &#39;po/template.pot&#39;: [&#39;src/views/*.html&#39;]
      }
    },
  },
})
</code></pre>
<p>Afterwards you need to implement a directive that translates the <code>placeholder</code> attribute. Here&#39;s a simple example:</p>
<pre><code class="lang-javascript">angular.module(&#39;myModule&#39;).directive(&#39;placeholder&#39;, [&#39;gettextCatalog&#39;, function(gettextCatalog){
  return {
    restrict: &#39;A&#39;,
    link: function(scope, element, attrs){
      var translatedPlaceholder = gettextCatalog.getString(attrs.placeholder);
      element.attr(&#39;placeholder&#39;, translatedPlaceholder);
    }
  };
}]);
</code></pre>
<p>And finally you can continue using the placeholder attribute as usual:</p>
<pre><code class="lang-xml">&lt;input placeholder=&quot;Input something here&quot;&gt;
</code></pre>
<h2 id="plurals">Plurals</h2>
<p>If you&#39;ve specified custom attributes, <code>gettext</code> also looks for plurals by adding <code>-plural</code> and <code>-n</code> to the attribute name, e.g. <code>placeholder-plural</code> and <code>placeholder-n</code>:</p>
<pre><code class="lang-xml">&lt;input placeholder=&quot;Input a hobbit name&quot; placeholder-n=&quot;hobbitCount&quot; placeholder-plural=&quot;Input names for {{$count}} hobbits&quot;/&gt;
</code></pre>
<p>Keep in mind that its up to you how the translation is being handled. In this case you&#39;ll need to use <a href="api/gettext/service/gettextCatalog#getPlural">gettextCatalog.getPlural</a>.</p>
<h2 id="comments">Comments</h2>
<p>Comments are handled in the same way: gettext looks for <code>[custom attribute]-comment</code>, e.g. <code>placeholder-comment</code>:</p>
<pre><code class="lang-xml">&lt;input placeholder-comment=&quot;Name for a creature that is short in stature&quot; placeholder=&quot;Hobbit name&quot;&gt;
</code></pre>
<p>The comments will appear in the extracted text catalog and will help the translator.</p>







